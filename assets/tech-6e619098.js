import{d as M,r as u,a as B,b as D,I as P,c as h,w as b,v as y,u as e,e as d,f as l,F as Y,G as O,o as E,t as H,i as S,$ as A,m as C,y as W,q as I}from"./symbols-a5750b6c.js";import{w as K,b as N,c as G,a as U}from"./variable-24519989.js";import{t as V}from"./throttle-5cadf59e.js";import{T as j,_ as q,a as R}from"./index.vue_vue_type_script_setup_true_lang-4be7f323.js";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang-62a30e59.js";import{L as Q}from"./index-5811b485.js";import{u as X}from"./use-media-ea13ca43.js";import{s as Z,A as ee,H as te}from"./index-10f78ce3.js";const ae={class:"webFE-container"},se={class:"section-container"},oe={class:"webFE-category"},ne=["onClick"],ie={class:"webFE-title"},le={class:"webFE-date"},ce=M({__name:"index",setup(re){let a=1,f=!1,m=0;const F=u(null),s=u(!0),_=u([]),n=u([]),c=S(A),r=S(C),v=S(W),{computedWidth:g}=X(),k=async()=>{if(r&&c){const t=await r.get(c.getAllTech);_.value=t.data.articleList.reverse(),n.value=t.data.articleList.slice((a-1)*7,a*7)}},x=()=>{const t=window.pageYOffset,i=t-m;if(m=t,i<=0)return!1;if(!f){const o=Math.max(document.body.scrollHeight,document.body.offsetHeight),w=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,T=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(o-w-T<50){a+=1;const $=_.value.slice((a-1)*7,a*7);if($.length==0){f=!0,v==null||v("列表已经全部加载完成");return}s.value=!0,F.value=window.setTimeout(()=>{s.value=!1,n.value=[...n.value,...$]},500)}}},L=async t=>{if(a=1,f=!1,s.value=!0,r&&c){const i=await r.get(c[j[t]]);_.value=i.data.articleList.reverse(),n.value=i.data.articleList.slice((a-1)*7,a*7),s.value=!1}},z=t=>{window.open(t)};return B(()=>{k()}),D(()=>{window.onscroll=V(x,1e3),s.value=!1,m=window.pageYOffset}),P(()=>{F.value=null}),(t,i)=>(E(),h("div",ae,[b(d(e(q),{"nav-default-list":e(K),onCallBack:L},null,8,["nav-default-list"]),[[y,e(g)]]),l("div",se,[(E(!0),h(Y,null,O(n.value,(o,w)=>(E(),h("section",{key:`tech${w}`,class:"ignore-webFE-item"},[l("p",oe,H(e(R)[o.category]),1),l("p",{class:"flex-between-center title-date",onClick:T=>z(o.readUrl)},[l("span",ie,H(o.title),1),l("span",le,H(o.date),1)],8,ne)]))),128))]),b(d(e(Q),null,null,512),[[y,s.value]]),b(d(e(J),{"nav-list":e(N),onCallBack:L},null,8,["nav-list"]),[[y,!e(g)]]),d(e(U),{year:e(G),"is-mobile":!e(g)},null,8,["year","is-mobile"])]))}});const p=I(ce);Z(p);p.provide(A,ee);p.provide(C,te);p.mount("#app");
