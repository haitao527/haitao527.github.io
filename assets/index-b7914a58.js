import{_ as l}from"./variable-24519989.js";import{o as p,c as f,f as g,D as v}from"./symbols-a5750b6c.js";const m={data(){return{audioContext:null}},props:{play:Boolean,width:{type:[Number,String]},height:{type:[Number,String]},link:{type:String},color:{type:String}},updated(){this.play?(this.audioContext.resume(),audio.play()):audio.pause()},mounted(){let a=this;audio.onended=function(){a.$emit("switchoff")};var c=window.AudioContext||window.webkitAudioContext,e=this.audioContext=new c,d=e.createMediaElementSource(audio),n=e.createScriptProcessor(4096,1,1),i=canvasVoice.width,r=canvasVoice.height,o=canvasVoice.getContext("2d");o.strokeStyle=a.color||"#aaa",o.translate(.5,r/2+.5),d.connect(n),n.connect(e.destination),n.onaudioprocess=function(u){for(var h=u.inputBuffer.getChannelData(0),s=u.outputBuffer.getChannelData(0),t=0;t<h.length;t++)s[t]=h[t];o.clearRect(-.5,-r/2-.5,i,r),o.beginPath();for(var t=0;t<i;t++)o.lineTo(t,r/2*s[s.length*t/i|0]);o.stroke()}}},w={id:"musicWrapper"},_=["width","height"];function x(a,c,e,d,n,i){return p(),f("div",w,[g("canvas",{id:"canvasVoice",width:e.width,height:e.height},null,8,_),v(a.$slots,"default")])}const S=l(m,[["render",x]]);export{S as M};
