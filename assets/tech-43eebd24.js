import{d as M,r as u,a as B,b as D,J as P,c as h,w as b,v as y,u as e,e as d,f as l,G as Y,H as O,o as E,t as H,i as S,$ as z,p as A,z as W,s as K}from"./symbols-2aef84fb.js";import{w as N,b as G,c as I,a as U}from"./variable-a4637b51.js";import{t as V}from"./throttle-5cadf59e.js";import{T as j,_ as J,a as R}from"./index.vue_vue_type_script_setup_true_lang-a463ac3c.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang-60c3ca11.js";import{L as Q}from"./index-cde9dc1e.js";import{u as X}from"./use-media-7b12d379.js";import{s as Z,A as ee,H as te}from"./index-a57d630f.js";const ae={class:"webFE-container"},se={class:"section-container"},oe={class:"webFE-category"},ne=["onClick"],ie={class:"webFE-title"},le={class:"webFE-date"},ce=M({__name:"index",setup(re){let a=1,f=!1,m=0;const L=u(null),s=u(!0),_=u([]),n=u([]),c=S(z),r=S(A),v=S(W),{computedWidth:g}=X(),C=async()=>{if(r&&c){const t=await r.get(c.getAllTech);_.value=t.data.articleList.reverse(),n.value=t.data.articleList.slice((a-1)*7,a*7)}},k=()=>{const t=window.pageYOffset,i=t-m;if(m=t,i<=0)return!1;if(!f){const o=Math.max(document.body.scrollHeight,document.body.offsetHeight),w=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,F=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(o-w-F<50){a+=1;const $=_.value.slice((a-1)*7,a*7);if($.length==0){f=!0,v==null||v("列表已经全部加载完成");return}s.value=!0,L.value=window.setTimeout(()=>{s.value=!1,n.value=[...n.value,...$]},500)}}},T=async t=>{if(a=1,f=!1,s.value=!0,r&&c){const i=await r.get(c[j[t]]);_.value=i.data.articleList.reverse(),n.value=i.data.articleList.slice((a-1)*7,a*7),s.value=!1}},x=t=>{window.open(t)};return B(()=>{C()}),D(()=>{window.onscroll=V(k,1e3),s.value=!1,m=window.pageYOffset}),P(()=>{L.value=null}),(t,i)=>(E(),h("div",ae,[b(d(e(J),{"nav-default-list":e(N),onCallBack:T},null,8,["nav-default-list"]),[[y,e(g)]]),l("div",se,[(E(!0),h(Y,null,O(n.value,(o,w)=>(E(),h("section",{key:`tech${w}`,class:"ignore-webFE-item"},[l("p",oe,H(e(R)[o.category]),1),l("p",{class:"flex-between-center title-date",onClick:F=>x(o.readUrl)},[l("span",ie,H(o.title),1),l("span",le,H(o.date),1)],8,ne)]))),128))]),b(d(e(Q),null,null,512),[[y,s.value]]),b(d(e(q),{"nav-list":e(G),onCallBack:T},null,8,["nav-list"]),[[y,!e(g)]]),d(e(U),{year:e(I),"is-mobile":!e(g)},null,8,["year","is-mobile"])]))}});const p=K(ce);Z(p);p.provide(z,ee);p.provide(A,te);p.mount("#app");
