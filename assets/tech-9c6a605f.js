import{d as S,r as d,a as P,b as W,I as Y,c as b,w as y,v as E,u as t,e as p,f as c,F as I,G as K,o as F,t as H,i as L,$ as A,m as B,y as N,q as O}from"./symbols-a5750b6c.js";import{w as U,b as V,c as j,a as q}from"./variable-24519989.js";import{t as z}from"./throttle-5cadf59e.js";import{T as G,_ as J}from"./index.vue_vue_type_script_setup_true_lang-f8f0b02b.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang-62a30e59.js";import{L as R}from"./index-5811b485.js";import{u as X}from"./use-media-c867db85.js";import{s as Z,A as ee,H as te}from"./index-edb6d258.js";const ae={class:"webFE-container"},se={class:"section-container"},oe={class:"webFE-category"},ne=["onClick"],le={class:"webFE-title"},ie={class:"webFE-date"},ce=S({__name:"index",setup(re){let a=1;const s=7;let m=!1,_=0;const $=d(null),o=d(!0),v=d([]),l=d([]),r=L(A),u=L(B),w=L(N),{computedWidth:h}=X(),C=async()=>{if(u&&r){const e=await u.get(r.getAllTech);v.value=e.data.articleList.reverse(),l.value=e.data.articleList.slice((a-1)*s,a*s)}},D=()=>{const e=window.pageYOffset,i=e-_;if(_=e,i<=0)return!1;if(!m){const n=Math.max(document.body.scrollHeight,document.body.offsetHeight),g=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,k=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(n-g-k<50){a+=1;const x=v.value.slice((a-1)*s,a*s);if(x.length==0){m=!0,w==null||w("列表已经全部加载完成");return}o.value=!0,$.value=window.setTimeout(()=>{o.value=!1,l.value=[...l.value,...x]},500)}}},T=async e=>{if(a=1,m=!1,o.value=!0,u&&r){const i=await u.get(r[G[e]]);v.value=i.data.articleList.reverse(),l.value=i.data.articleList.slice((a-1)*s,a*s),o.value=!1}},M=e=>{window.open(e)};return P(()=>{C()}),W(()=>{window.onscroll=z(D,1e3),o.value=!1,_=window.pageYOffset}),Y(()=>{$.value=null}),(e,i)=>(F(),b("div",ae,[y(p(t(J),{"nav-default-list":t(U),onCallBack:T},null,8,["nav-default-list"]),[[E,t(h)]]),c("div",se,[(F(!0),b(I,null,K(l.value,(n,g)=>(F(),b("section",{key:`tech${g}`,class:"ignore-webFE-item"},[c("p",oe,H(n.category),1),c("p",{class:"flex-between-center title-date",onClick:k=>M(n.readUrl)},[c("span",le,H(n.title),1),c("span",ie,H(n.date),1)],8,ne)]))),128))]),y(p(t(R),null,null,512),[[E,o.value]]),y(p(t(Q),{"nav-list":t(V),onCallBack:T},null,8,["nav-list"]),[[E,!t(h)]]),p(t(q),{year:t(j),"is-mobile":!t(h)},null,8,["year","is-mobile"])]))}});const f=O(ce);Z(f);f.provide(A,ee);f.provide(B,te);f.mount("#app");
